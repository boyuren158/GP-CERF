<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="GPCERF">
<title>A Note on Choosing Hyperparameters • GPCERF</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="A Note on Choosing Hyperparameters">
<meta property="og:description" content="GPCERF">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">GPCERF</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/GPCERF.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Introduction</h6>
    <a class="dropdown-item" href="../articles/Standard-Gaussian-Processes.html">Standard Gaussian Processes</a>
    <a class="dropdown-item" href="../articles/Nearest-neighbor-Gaussian-Processes.html">Nearest-neighbor Gaussian Processes</a>
    <a class="dropdown-item" href="../articles/A-Note-on-Choosing-Hyperparameters.html">A Note on Choosing Hyperparameters</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Collabration</h6>
    <a class="dropdown-item" href="../articles/Developers-Guide.html">Developers Guide</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/NSAPH-Software/GPCERF/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>A Note on Choosing Hyperparameters</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/NSAPH-Software/GPCERF/blob/HEAD/vignettes/A-Note-on-Choosing-Hyperparameters.Rmd" class="external-link"><code>vignettes/A-Note-on-Choosing-Hyperparameters.Rmd</code></a></small>
      <div class="d-none name"><code>A-Note-on-Choosing-Hyperparameters.Rmd</code></div>
    </div>

    
    
<p>This document outlines guidelines for choosing a spectrum of
hyperparameters. We first summarize the interpretation of the three
hyper-parameters and the impact of their values on the estimation to
motivate the various choices of the hyper-parameter grid we propose. The
scaling parameters <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\beta\)</span> determine how much information the
estimation will draw from the two coordinates, GPS score, and exposure
level. A large scaling parameter suggests that varying the corresponding
coordinate is only associated with a small change in the outcome; that
is, this coordinate does not contribute too much to the variation of the
outcome. The signal-to-noise ratio parameter <span class="math inline">\(\gamma/\sigma\)</span> (<code>g_sigma</code> in
the code) encodes how different the observed data is from pure noise. A
large <span class="math inline">\(\gamma/\sigma\)</span> indicates
strong associations between the outcome and the coordinates of the GP,
while small <span class="math inline">\(\gamma/\sigma\)</span> suggests
the observed outcome is likely to be drawn from a random process that is
independent of the coordinates.</p>
<p>In the setting of observational studies and under the no unobserved
confounding assumption (note that this is the specific setting for which
GPCERF is expressly designed), both the exposure level and the GPS score
encode important information for the estimation of CERF; as a result,
the range of their scaling parameters should be comparable, and the
covariate balance will determine which coordinate is more important. The
range should also cover both ends of the importance, from extremely
important to nearly irrelevant. We choose to achieve this by considering
the range on the log-10 scale with equally spaced candidate values. The
specification of a range of <span class="math inline">\(\gamma/\sigma\)</span> also follows the same
rationale when the prior belief about the strength of the causal effect
of the exposure is weak. Here is an example grid that covers both
ends.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">params_lst</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">10</span> <span class="op">^</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span>, length.out <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span>                   beta <span class="op">=</span> <span class="fl">10</span> <span class="op">^</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span>, length.out <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span>                   g_sigma <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>                   tune_app <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></code></pre></div>
<p>In some instances, the observed data could be derived from randomized
trials in which the exposure is entirely independent of any existing
covariates. In this case, the estimated GPS score is, in fact, a noisy
version of the exposure level (since the mean of the exposure level is
not a function of the covariates), and it does not provide any
additional information beyond the exposure itself. In this case, we have
a strong prior belief that the importance of the GPS score is low, and
thus, a large value of <span class="math inline">\(\alpha\)</span> can
be specified without any additional tuning. The range of <span class="math inline">\(\beta\)</span> should focus on smaller values to
capture the information carried by the exposure. The specification of
<span class="math inline">\(\gamma/\sigma\)</span> should rely on some
qualitative characterization, such as simple visualization, of the
relationship between the outcome and the exposure. The reason is that
under randomized design, the CERF can be estimated by regressing the
outcome on the exposure directly with a flexible model. If the
scatterplot of the outcome vs. the exposure exhibits a clear trend, we
should specify a large <span class="math inline">\(\gamma/\sigma\)</span> to reflect the prior belief
of a strong causal effect of the exposure. In reality, we may not know
whether the study is a randomized trial. We can then compute the
absolute correlations between the exposure and each of the covariates to
detect potential deviation from randomization. When all the absolute
correlation is smaller than a pre-specified threshold, for instance,
0.05, we can employ the specification for a hyper-parameter grid as
described above for randomized trials.</p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Naeem Khoshnevis, Boyu Ren, Danielle Braun.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
